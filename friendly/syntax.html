<html>
  <head>
    <script src="format.js"></script>
    <link rel="stylesheet" type="text/css" href="friendly.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  </head>
  <body>
    <div id="pats"></div>
    <div id="add">
      <span style="margin: 5px">Add a patern with </span>
      <input type="number" id="numnodes" style="margin: 5px; width: 40px" value="2"></input>
      <span style="margin: 5px"> nodes.</span>
      <button id="add_go" style="margin: 5px">GO</button>
    </div>
    <div id="output">
      <h3 style="margin: 5px">Output</h3>
      <p style="margin: 5px">Copy this text to <span style="background-color: #AAAAAA">nlparse/langs/<span style="color:red">lang-code</span>/syntax.lisp</span></p>
      <pre id="out" style="border: 1px dashed">;;Generated by nlparse/friendly
(defpackage :syntax
  (:use :syntax-utils :utils :cl)
  (:export :pats))
(in-package :syntax)

(setf pats
      (list
      ))</pre>
    </div>
    <script>
        document.getElementById('pats').innerHTML = nicejson(['hi', 'hi', '~', '@2', '%2', {'type':'@1', '%7':true}]);
        $(document).on('click', function(e) {
            if (e.target.tagName === "SPAN" && e.target.className === "delete") {
                var dn = e.target.parentNode;
                var dfn = dn.parentNode;
                if (dfn.tagName === "LI") {
                    dn = dfn;
                    dfn = dfn.parentNode;
                }
                if (dfn.tagName === "TD") {
                    dn = dfn.parentNode;
                    dfn = dn.parentNode;
                }
                dfn.removeChild(dn);
            }
        });
    </script>
  </body>
</html>
